{
  "project_name": "LLMStruct Phoenix Restructuring",
  "current_date": "2025-05-31",
  "main_goal": "Transform chaotic project into professional LLM-first product with orchestrator automation",
  
  "project_statistics": {
    "total_modules": 272,
    "total_functions": 1857,
    "duplicate_percentage": 20.5,
    "bot_versions": 8,
    "giant_files": 2,
    "giant_files_size": "1.0B each"
  },
  
  "budget_and_resources": {
    "total_budget": "$22",
    "spent_on_grok_series1": "$0.315", 
    "remaining_budget": "$21.685",
    "anthropic_budget": "$4",
    "local_resources": "RTX 3060 Ti for Ollama",
    "preferred_orchestrator": "Claude Sonnet 4"
  },
  
  "current_infrastructure": {
    "ollama_models_installed": [
      "qwen2.5:7b",
      "wizardlm2:7b", 
      "starcoder2:7b",
      "deepseek-coder:6.7b",
      "mistral:latest"
    ],
    "api_endpoints": {
      "grok": "configured in .env",
      "anthropic": "configured, $4 available", 
      "fastapi": "http://localhost:8000 working",
      "ollama": "local models ready"
    },
    "workspace_path": "/home/sma/projects/llmstruct/llmstruct"
  },
  
  "previous_consultations": {
    "grok_series_1": {
      "files": [
        "grok_consultations/01_architect_consultation.md",
        "grok_consultations/02_prompt_engineer_consultation.md", 
        "grok_consultations/03_llm_specialist_consultation.md",
        "grok_consultations/04_project_manager_consultation.md",
        "grok_consultations/05_final_consensus.md"
      ],
      "main_outcomes": [
        "Modular prompt structure recommended",
        "LLM-first design principles established",
        "5-phase execution plan created",
        "Budget optimization strategies defined"
      ]
    },
    "grok_series_2": {
      "files": [
        "grok_consultations_series_2/FINAL_STRATEGIC_DECISION.md",
        "grok_consultations_series_2/SERIES_2_LAUNCH_SUMMARY.md"
      ],
      "main_outcomes": [
        "Hybrid Grok + Ollama approach validated",
        "233 Ollama models analyzed, 135 compatible",
        "Task distribution strategy: Grok (strategic) + Ollama (technical)",
        "250-400% efficiency gain projected"
      ]
    }
  },
  
  "existing_plans": {
    "phoenix_plan": {
      "file": ".RESTRUCTURIZATION_PLAN/DRAFTS/opus_PHOENIX_FINAL_EXECUTABLE_PLAN.md",
      "status": "Created but needs orchestrator automation",
      "phases": [
        "Phase 0: Preparation and duplicate analysis",
        "Phase 1: Consolidation and archiving", 
        "Phase 2: Architecture schema creation",
        "Phase 3: LLM-first refactoring",
        "Phase 4: Final documentation"
      ],
      "weaknesses": [
        "Abstract pseudocode instead of executable scripts",
        "Unclear decision criteria for LLM switching",
        "Missing concrete validation metrics",
        "No fallback strategies for errors"
      ]
    },
    "executable_script": {
      "file": ".PHOENIX/executable_phoenix_plan.py",
      "status": "Partially implemented",
      "strengths": [
        "Concrete validation functions",
        "Error handling and logging",
        "Phase-based execution with checkpoints",
        "Ollama integration with quality checks"
      ],
      "missing": [
        "Complete Phase 3 implementation (refactoring)",
        "External API fallback mechanisms", 
        "Advanced consolidation logic",
        "Schema generation automation"
      ]
    }
  },
  
  "key_problems_to_solve": [
    {
      "problem": "8 bot versions need consolidation",
      "files": [
        "telegram_bot_final.py", "chat_bot_final.py", "telegram_bot_test.py",
        "chat_bot_working.py", "chat_bot.py", "integrations/telegram_bot.py"
      ],
      "priority": "high",
      "approach": "Keep integrations/telegram_bot.py as main, archive others"
    },
    {
      "problem": "20.5% code duplication",
      "impact": "Maintenance nightmare, confusion for LLMs",
      "priority": "high", 
      "target": "0% duplication"
    },
    {
      "problem": "2 giant files (1.0B each)",
      "impact": "Impossible to analyze, breaks LLM context limits",
      "priority": "critical",
      "approach": "Split into logical modules"
    },
    {
      "problem": "Scattered project structure",
      "impact": "LLMs can't understand project organization",
      "priority": "medium",
      "approach": "Create clear src/ hierarchy with schemas"
    }
  ],
  
  "success_criteria": {
    "quantitative": [
      "0% code duplication (from 20.5%)",
      "1 unified bot framework (from 8 versions)",
      "<200 modules (from 272)",
      "100% schema coverage",
      "All giant files split into <10MB chunks"
    ],
    "qualitative": [
      "Any LLM can understand and modify any part",
      "Human can quickly understand structure", 
      "All requirements preserved",
      "Clean, professional documentation"
    ]
  },
  
  "orchestrator_requirements": {
    "target_llm": "Claude Sonnet 4",
    "automation_level": "95% autonomous with minimal human intervention",
    "checkpoint_validation": "After each phase with clear go/no-go criteria",
    "error_handling": "Automatic fallback to alternative approaches",
    "progress_reporting": "Detailed logs and metrics at each step",
    "human_intervention_points": [
      "Critical error recovery",
      "Final approval before destructive operations",
      "Strategic decision validation"
    ]
  },
  
  "available_tools": {
    "llm_apis": ["grok", "anthropic", "ollama_local"],
    "cli_commands": ["llmstruct query", "llmstruct analyze-duplicates"],
    "automation_scripts": [".PHOENIX/executable_phoenix_plan.py"],
    "analysis_tools": ["duplication_report.json", "struct.json", "metrics.json"]
  },
  
  "constraints": {
    "budget": "$21.685 remaining",
    "time": "10-12 days estimated",
    "technical": "Must preserve all existing functionality",
    "safety": "All changes must be reversible via git",
    "quality": "Code must pass existing tests after refactoring"
  }
}
