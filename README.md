# LLMStruct: AI-Enhanced Universal JSON Codebase Format

🧠 **Universal JSON format for codebases with advanced LLM integration and AI self-awareness**

[![AI Self-Awareness](https://img.shields.io/badge/AI%20Self--Awareness-85%25-green)](./run_ai_diagnostics.py)
[![Cursor Integration](https://img.shields.io/badge/Cursor%20IDE-Integrated-blue)](./data/cursor/)
[![JSON Ecosystem](https://img.shields.io/badge/JSON%20Files-20%2B-orange)](./data/)

## 🚀 Quick Start (5 minutes)

```bash
# 1. Clone and setup
git clone <repository_url>
cd llmstruct
python -m venv venv
source venv/bin/activate  # Linux/Mac
# OR: venv\Scripts\activate  # Windows
pip install -r requirements.txt

# 2. Start development environment
python start_development.py

# 3. Verify AI system health
python run_ai_diagnostics.py
# Should show: 🎉 ALL DIAGNOSTICS PASSED!
```

## 🎯 What is LLMStruct?

LLMStruct transforms any codebase into an **AI-aware development environment** through:

- **🧠 AI Self-Awareness System**: 85% complete with real-time introspection
- **🎯 Cursor IDE Integration**: Smart context optimization and multi-AI orchestration  
- **📋 JSON Ecosystem**: 20+ specialized files for comprehensive codebase understanding
- **🔄 Context Orchestration**: 4-level hierarchy for optimal LLM token usage
- **🤖 Multi-AI Coordination**: Intelligent delegation between Grok and Claude
- **💼 Goal Alignment**: Business objective integration for accelerated development

## 🏗️ Architecture Overview

```
llmstruct/
├── 🧠 AI Self-Awareness System
│   ├── src/llmstruct/ai_self_awareness.py    # Core AI introspection
│   ├── src/llmstruct/cursor_integration.py   # Cursor IDE integration
│   └── run_ai_diagnostics.py                 # Comprehensive testing suite
│
├── 📋 JSON Ecosystem (20+ files)
│   ├── data/init_enhanced.json               # Master context & orchestration
│   ├── data/cursor/                          # Cursor IDE configurations
│   ├── struct.json                           # Complete codebase analysis
│   └── data/tasks.json                       # Project management
│
├── 🛠️ Development Tools
│   ├── start_development.py                  # Daily startup routine
│   ├── data/developer_onboarding.json        # Comprehensive dev guide
│   └── src/llmstruct/cli.py                  # Command line interface
│
└── 🎯 Business Integration
    ├── data/cursor/cursor_personal_bridge.json  # Goal alignment
    └── .personal/                               # Private planning docs
```

## 🧠 AI Self-Awareness Features

Our AI system continuously monitors and optimizes itself:

```bash
# Full system diagnostics
python run_ai_diagnostics.py

# Specific component testing  
python run_ai_diagnostics.py component context_orchestrator

# Performance optimization suggestions
python run_ai_diagnostics.py optimize

# Continuous health monitoring
python run_ai_diagnostics.py monitor

# Stress testing
python run_ai_diagnostics.py stress
```

**Real-time Capabilities:**
- 🔍 **System Discovery**: Automatic capability detection and health monitoring
- 📊 **Performance Metrics**: Real cache hit rates, system load, response times
- 🎯 **Context Optimization**: Smart context selection for minimal token usage
- 🤖 **AI Delegation**: Optimal AI model selection (Grok vs Claude)
- 💡 **Self-Optimization**: Automated improvement suggestions

## 🎯 Cursor IDE Integration

Revolutionary AI-enhanced development experience:

### Smart Context Delivery
```json
{
  "query_types": {
    "technical_implementation": "grok + struct.json",
    "personal_planning": "claude + cursor_personal_bridge.json", 
    "architecture_discussion": "grok + init_enhanced.json",
    "debugging_analysis": "grok + error_context",
    "documentation": "claude + comprehensive_context",
    "creative_innovation": "grok + minimal_context"
  }
}
```

### Multi-AI Orchestration
- **Grok**: Technical implementation, debugging, creative solutions
- **Claude**: Documentation, personal planning, strategic analysis
- **Automatic Delegation**: 95% confidence threshold for optimal routing

### Goal Alignment
- **Monetization Priority**: 40% weight in feature suggestions
- **Development Acceleration**: 30% weight for timeline pressure
- **Commercial Readiness**: 20% weight for API development
- **Innovation**: 10% weight for creative features

## 📋 JSON Ecosystem

Our comprehensive JSON system provides structured context for AI interactions:

### Core Files
- **`data/init_enhanced.json`** - Master context and orchestration rules
- **`struct.json`** - Complete codebase structure and analysis  
- **`data/cursor/cursor_context_config.json`** - Cursor optimization settings
- **`data/cursor/cursor_personal_bridge.json`** - Business goal alignment
- **`data/tasks.json`** - Project management and priorities

### Context Hierarchy
1. **Level 1 (Essential)**: `init_enhanced.json` - Always loaded first
2. **Level 2 (Structural)**: `struct.json` - For code analysis
3. **Level 3 (Operational)**: `cli.json`, `tasks.json` - For automation
4. **Level 4 (Analytical)**: `insights.json`, `metrics.json` - For optimization

## 🛠️ Development Workflow

### Daily Startup
```bash
python start_development.py
```
This script automatically:
- ✅ Checks environment setup
- 🏥 Runs system health diagnostics  
- 💡 Provides optimization suggestions
- 📦 Checks git status and remote updates
- 📋 Shows current project context and goals

### Development Cycle
1. **Planning**: Review `data/tasks.json` and run optimization suggestions
2. **Implementation**: Use Cursor with AI delegation and context optimization
3. **Testing**: Run component-specific and stress tests
4. **Documentation**: Update JSON files and regenerate structure

### Pre-Commit Checklist
```bash
# Full diagnostics must pass
python run_ai_diagnostics.py  # Must show 100% success

# No linting errors
python -m flake8 src/ --max-line-length=120

# JSON files valid
python -c "import json; [json.load(open(f)) for f in ['data/init_enhanced.json', 'data/cursor/cursor_context_config.json']]"

# Structure updated
python -m llmstruct.cli scan
```

## 🎯 Business Integration

LLMStruct serves dual purposes:

### Personal Development Acceleration
- **Timeline Pressure**: Optimized for rapid development cycles
- **Goal Alignment**: Features prioritized by business impact
- **AI Assistance**: Intelligent task delegation and context optimization

### Commercial Product Development  
- **API-First Design**: Ready for enterprise integration
- **Multi-AI Orchestration**: Scalable AI model management
- **Privacy Protection**: Sensitive data filtering and secure contexts

## 📚 Documentation System

Our documentation is **JSON-native** and **AI-optimized**:

- **`data/developer_onboarding.json`** - Complete developer guide
- **`data/init_enhanced.json`** - Project vision and architecture
- **`cursor_integration_strategy.md`** - Cursor integration details
- **`.personal/`** - Private planning and business strategy docs

## 🔧 Advanced Features

### AI-Controlled Development
```bash
# Component-specific testing
python run_ai_diagnostics.py component cli_processor

# Integration health checks  
python run_ai_diagnostics.py health

# Performance benchmarking
python run_ai_diagnostics.py stress
```

### Context Orchestration
- **Smart Loading**: Context selected based on query analysis
- **Token Optimization**: Minimal context for maximum efficiency  
- **Cache Management**: Intelligent caching with real-time metrics
- **Layer Hierarchy**: 4-level context organization

### Multi-AI Coordination
- **Confidence-Based Routing**: 95% threshold for optimal AI selection
- **Task-Specific Delegation**: Different AIs for different problem types
- **Success Rate Monitoring**: Continuous delegation optimization
- **Fallback Strategies**: Graceful degradation when primary AI unavailable

## 🚀 Getting Started for Developers

1. **Quick Setup**: Follow the 5-minute quick start above
2. **Read the Guide**: Check `data/developer_onboarding.json` for comprehensive instructions
3. **Explore AI Features**: Run `python run_ai_diagnostics.py help` to see all capabilities
4. **Start Coding**: Use `python start_development.py` for daily workflow
5. **Contribute**: Follow the development cycle and pre-commit checklist

## 🎯 Key Benefits

- **🚀 Faster Development**: AI-guided coding with optimal context delivery
- **🧠 Self-Optimizing**: System continuously improves its own performance  
- **🎯 Goal-Aligned**: Business objectives integrated into development workflow
- **🔄 Multi-AI**: Intelligent delegation between different AI models
- **📋 Structured**: JSON-based documentation that AIs can understand and use
- **🛡️ Privacy-Aware**: Sensitive data protection with configurable filtering

## 📞 Support & Contribution

- **Issues**: Use GitHub issues for bug reports and feature requests
- **Development**: Follow the workflow in `data/developer_onboarding.json`
- **AI Integration**: Check `data/cursor/` for Cursor IDE configuration
- **Documentation**: All docs are JSON-based and AI-optimized

## Архитектура и интеграция (2024-06)

### 1. Выделение бизнес-логики
- Вся логика анализа структуры кода вынесена в `src/llmstruct/core/parse.py`.
- CLI и API используют одну функцию `parse_codebase` — нет дублирования.

### 2. FastAPI backend
- Современный FastAPI backend с CORS, строгой типизацией, версионированием (`/api/v1`).
- Эндпоинты:
  - `/api/v1/health` — health-check
  - `/api/v1/chat/message` — чат-заглушка
  - `/api/v1/parse` — анализ структуры кода по локальному пути (root_dir)
- Авторизация через API-ключ (заголовок `Authorization: Bearer ...`).

### 3. Пример использования API

```bash
curl -X POST http://localhost:8000/api/v1/parse \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer dev-key" \
  -d '{
    "root_dir": "/path/to/your/project",
    "include": ["*.py"],
    "exclude": ["tests/*"],
    "include_ranges": true,
    "use_cache": false
  }' | jq '.' > struct.json
```

### 4. Для локального использования
- Нет необходимости загружать архивы или использовать session_id.
- Анализ идёт напрямую по локальному пути.
- Удобно интегрировать с VSCode, CLI, web.

### 5. Рекомендации
- Для облачного режима upload/session endpoints можно реализовать отдельно.
- Для локального сценария — максимально простая архитектура.

---

**🧠 Built with AI self-awareness • 🎯 Optimized for Cursor IDE • 📋 JSON-native documentation**

*Transform your development workflow with AI-enhanced coding intelligence.*
