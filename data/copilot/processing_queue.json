{
  "processing_queue": {
    "version": "1.0.0",
    "description": "Real-time AI task tracking and session monitoring system",
    "created": "2025-01-27T12:00:00Z",
    "last_updated": "2025-01-27T12:00:00Z",
    
    "queue_config": {
      "max_queue_size": 50,
      "session_timeout": 3600,
      "auto_cleanup": true,
      "real_time_monitoring": true,
      "github_sync": true
    },

    "current_session": {
      "session_id": null,
      "start_time": null,
      "user": null,
      "status": "idle",
      "changes_count": 0,
      "warnings_triggered": [],
      "last_activity": null
    },

    "task_queue": {
      "active_tasks": [],
      "completed_tasks": [],
      "failed_tasks": [],
      "pending_approval": []
    },

    "task_structure": {
      "task_template": {
        "id": "task_[timestamp]_[hash]",
        "type": "string",
        "priority": "normal|high|critical",
        "status": "queued|processing|completed|failed|blocked|waiting_approval",
        "created_at": "ISO_timestamp",
        "started_at": "ISO_timestamp_or_null",
        "completed_at": "ISO_timestamp_or_null",
        "estimated_duration": "seconds",
        "actual_duration": "seconds_or_null",
        "user": "string",
        "description": "string",
        "files_affected": ["array_of_file_paths"],
        "changes_summary": "string",
        "risk_level": "low|medium|high|critical",
        "requires_approval": "boolean",
        "dependencies": ["array_of_task_ids"],
        "github_integration": {
          "commit_hash": "string_or_null",
          "pr_number": "number_or_null",
          "branch": "string_or_null"
        },
        "ai_constraints": {
          "max_files": "number",
          "scope_limitation": "string",
          "rampage_check": "boolean",
          "consultation_required": "boolean"
        },
        "metadata": {
          "tool_calls": ["array_of_tool_names"],
          "execution_context": "string",
          "error_logs": ["array_of_errors"],
          "performance_metrics": {}
        }
      }
    },

    "monitoring_rules": {
      "session_limits": {
        "max_changes_per_session": 5,
        "max_files_per_task": 10,
        "max_session_duration": 7200,
        "cooldown_period": 300
      },
      
      "escalation_triggers": {
        "rampage_detection": {
          "enabled": true,
          "threshold_changes": 5,
          "threshold_time": 600,
          "action": "require_approval"
        },
        "high_risk_changes": {
          "enabled": true,
          "critical_files": [
            "struct.json",
            "package.json", 
            "data/init.json",
            "schema/*.json"
          ],
          "action": "immediate_consultation"
        },
        "scope_creep": {
          "enabled": true,
          "max_scope_expansion": 3,
          "action": "clarification_required"
        }
      },

      "auto_actions": {
        "task_cleanup": {
          "completed_tasks_retention": 48,
          "failed_tasks_retention": 168,
          "max_history_items": 1000
        },
        "session_management": {
          "auto_start_session": true,
          "auto_end_on_inactivity": true,
          "inactivity_timeout": 1800
        },
        "github_sync": {
          "auto_commit_on_task_complete": false,
          "auto_pr_for_major_changes": true,
          "commit_message_template": "[AI] {task_description} - {files_count} files"
        }
      }
    },

    "real_time_tracking": {
      "websocket_config": {
        "enabled": false,
        "port": 8080,
        "path": "/ai-session-monitor"
      },
      
      "file_watching": {
        "enabled": true,
        "watch_patterns": [
          "**/*.json",
          "**/*.js",
          "**/*.ts",
          "**/*.py",
          "**/*.md"
        ],
        "ignore_patterns": [
          "node_modules/**",
          ".git/**",
          "temp_workfiles/**"
        ]
      },

      "metrics_collection": {
        "performance_tracking": true,
        "error_analytics": true,
        "user_interaction_logs": true,
        "ai_decision_audit": true
      }
    },

    "github_integration": {
      "pages_dashboard": {
        "enabled": true,
        "auto_deploy": true,
        "update_frequency": "on_task_complete",
        "dashboard_url": "https://kpblcaoo.github.io/llmstruct/ai-session-monitor"
      },
      
      "actions_integration": {
        "enabled": true,
        "workflow_file": ".github/workflows/ai-session-monitor.yml",
        "trigger_on": ["push", "pr", "schedule"],
        "notifications": {
          "slack_webhook": null,
          "email_alerts": true,
          "github_issues": true
        }
      },

      "security": {
        "token_rotation": true,
        "encrypted_logs": true,
        "access_control": {
          "allowed_users": ["@kpblcaoo", "@momai", "@ivan-ib"],
          "admin_only_actions": ["session_reset", "constraint_override"]
        }
      }
    },

    "visualization": {
      "dashboard_components": {
        "session_timeline": {
          "enabled": true,
          "real_time_updates": true,
          "time_range": "24h"
        },
        "task_queue_status": {
          "enabled": true,
          "show_dependencies": true,
          "color_coding": true
        },
        "ai_constraints_monitor": {
          "enabled": true,
          "warning_alerts": true,
          "threshold_indicators": true
        },
        "performance_metrics": {
          "enabled": true,
          "charts": ["response_time", "success_rate", "error_frequency"],
          "historical_data": "7d"
        }
      },

      "mobile_optimization": {
        "responsive_design": true,
        "touch_controls": true,
        "offline_mode": false,
        "push_notifications": true
      }
    },

    "api_endpoints": {
      "session_control": {
        "start_session": "POST /api/session/start",
        "end_session": "POST /api/session/end", 
        "get_status": "GET /api/session/status",
        "reset_session": "POST /api/session/reset"
      },
      
      "task_management": {
        "queue_task": "POST /api/tasks/queue",
        "get_queue": "GET /api/tasks/queue",
        "approve_task": "POST /api/tasks/{id}/approve",
        "cancel_task": "DELETE /api/tasks/{id}"
      },

      "monitoring": {
        "get_metrics": "GET /api/metrics",
        "get_logs": "GET /api/logs",
        "health_check": "GET /api/health",
        "export_data": "GET /api/export/{format}"
      }
    },

    "error_handling": {
      "retry_policy": {
        "max_retries": 3,
        "backoff_strategy": "exponential",
        "retry_conditions": ["network_error", "timeout", "rate_limit"]
      },
      
      "fallback_modes": {
        "offline_mode": {
          "enabled": true,
          "local_queue": true,
          "sync_on_reconnect": true
        },
        "degraded_mode": {
          "basic_tracking": true,
          "essential_constraints": true,
          "minimal_ui": true
        }
      },

      "logging": {
        "log_level": "info",
        "log_retention": "30d",
        "structured_logging": true,
        "error_aggregation": true,
        "performance_profiling": true
      }
    }
  }
}
