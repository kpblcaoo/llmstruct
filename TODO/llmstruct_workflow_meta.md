# TODO: Протоколирование и контрольные метки для LLM workflow

## 1. Раздельное протоколирование (meta-level log)
- Вести историю событий, решений, комментариев, ошибок и прогресса в отдельном JSON-файле (например, data/sessions/epic_xxx_meta.json).
- Основной roadmap/planner JSON остаётся компактным, только структура задач и статусы.
- Meta-log содержит подробную историю, которую можно анализировать отдельно или агрегировать по необходимости.

### Плюсы:
- Не раздувает основной roadmap, не мешает LLM работать с планом.
- Легко фильтровать, архивировать, анализировать историю отдельно.
- Можно делать разные уровни детализации (summary в roadmap, детали в meta-log).

### Минусы:
- Нужно поддерживать синхронизацию между roadmap и meta-log (например, task_id, event_id).
- LLM может терять часть контекста, если не подгружать meta-log при необходимости.

---

## 2. Контрольные метки для LLM в JSON
- Оценить возможность и необходимость добавлять специальные поля/метки (например, "llm_focus", "llm_context", "last_action", "attention_marker") в roadmap или meta-log.
- Эти метки помогают LLM удерживать фокус, не терять контекст между шагами, правильно продолжать workflow.

### Реалистичность:
- Для LLM это работает, если метки короткие, однозначные и обновляются на каждом шаге.
- Можно использовать для восстановления состояния после прерывания, для автосохранения, для "напоминаний" LLM о текущей задаче.

### Минусы:
- Если меток слишком много или они неактуальны — LLM может запутаться.
- Требует дисциплины: всегда обновлять метки при изменении состояния.
- Не решает проблему "забытого" контекста, если LLM не видит meta-log или roadmap целиком.

---

## 3. Рекомендация
- Вести meta-log отдельно от roadmap (разные JSON).
- В roadmap хранить только summary и ключевые статусы.
- В meta-log — подробную историю, контрольные метки, комментарии.
- LLM подгружает meta-log по необходимости (например, при старте сессии или при потере фокуса).
- Оценить эффективность на практике, скорректировать подход по результатам первых итераций. 

примечание разработчика к созданному llm плану - нам нужны объективные показатели эффективности для тщательной работы с такими вещами, верно? - @kpblcaoo